(this.webpackJsonpcomm=this.webpackJsonpcomm||[]).push([[0],{83:function(e){e.exports=JSON.parse('{"authSettingsEndpoint":"https://pcs-config-non-prod-func.azurewebsites.net/api/CommWebApp/Auth"}')},84:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(6),i=n(0),o=n(4),s=n(1),u=n.n(s),l=n(3),d=n(7),p=n(21);function b(){var e=Object(o.a)(["\n    margin: 0;\n"]);return b=function(){return e},e}function j(){var e=Object(o.a)(["\n    body { \n        margin: 0 auto;\n        padding-top: 54px;\n        max-width: 768px;\n    }\n    h1 {\n        ","\n    }\n    h2 {\n        ","\n    }\n    h3 {\n        ","\n    }\n    h4 {\n        ","\n    }\n    h5 {\n        ","\n    }\n    h6 {\n        ","\n    }\n    p {\n        ","\n    }\n    a {\n        ","\n    }\n    label {\n        ","\n    }\n    main {\n        background-color: white;\n        min-height: calc(100vh - 55px);\n    }\n"]);return j=function(){return e},e}var h=Object(l.createGlobalStyle)(j(),p.tokens.typography.heading.h1,p.tokens.typography.heading.h2,p.tokens.typography.heading.h3,p.tokens.typography.heading.h4,p.tokens.typography.heading.h5,p.tokens.typography.heading.h6,p.tokens.typography.paragraph.body_short,p.tokens.typography.paragraph.body_short_link,p.tokens.typography.input.label),f=l.default.p(p.tokens.typography.paragraph.overline),O=(Object(l.default)(f)(b()),"0 0.3px 0.9px rgba(33, 41, 43, 0.04), 0 0.9px 3.1px rgba(33, 41, 43, 0.07), 0 4px 14px rgba(33, 41, 43, 0.1)"),g=p.tokens.colors,x=h,A=n(9);d.Icon.add({menu:A.menu,chevron_right:A.chevron_right,chevron_down:A.chevron_down,arrow_drop_down:A.arrow_drop_down,error_outlined:A.error_outlined,close:A.close,bookmark_outlined:A.bookmark_outlined,bookmark_filled:A.bookmark_filled,check_circle:A.check_circle,list:A.list,paste:A.paste,view_list:A.view_list,remove:A.remove,check_circle_outlined:A.check_circle_outlined,arrow_back:A.arrow_back,search:A.search,warning_outlined:A.warning_outlined,warning_filled:A.warning_filled,radio_button_selected:A.radio_button_selected,radio_button_unselected:A.radio_button_unselected,swap_horizontal:A.swap_horizontal,arrow_drop_right:A.arrow_drop_right,info_circle:A.info_circle,checkbox:A.checkbox,checkbox_outline:A.checkbox_outline,thumbs_up:A.thumbs_up,error_filled:A.error_filled,hourglass_empty:A.hourglass_empty,check:A.check});var m=function(e){var t=e.name,n=e.title,r=e.color,c=e.size;return Object(i.jsx)(d.Icon,{name:t,title:n,color:r,size:c})};function v(){var e=Object(o.a)(["\n    padding: 0 4%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    & p {\n        padding: 4%;\n    }\n    & svg {\n        transform: scale(1);\n    }\n    & h3 {\n        margin-bottom: 0;\n    }\n"]);return v=function(){return e},e}var k=l.default.main(v()),C=function(e){var t=e.title,n=e.description;return Object(i.jsxs)(k,{children:[Object(i.jsx)("h3",{children:t}),Object(i.jsxs)(d.Banner,{children:[Object(i.jsx)(m,{color:g.interactive.danger__resting.hex,name:"error_outlined",title:"Error icon"}),Object(i.jsx)("p",{children:n})]})]})};function S(){var e=Object(o.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 80vw;\n    height: 80vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 0 10vw;\n    & h1 {\n        text-align: center;\n    }\n"]);return S=function(){return e},e}var w,I=l.default.main(S()),E=function(e){var t=e.loadingText;return Object(i.jsxs)(I,{children:[Object(i.jsx)("h1",{children:t}),Object(i.jsx)(d.StarProgress,{height:"100px"})]})},y=n(55),R=n.n(y),B=n(11),P=n(12),N=n(5);!function(e){e[e.INACTIVE=0]="INACTIVE",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR"}(w||(w={}));var U,T=u.a.createContext({}),L=function(e){var t=e.children,n=e.auth,r=e.api,o=Object(s.useState)([]),u=Object(N.a)(o,2),l=u[0],d=u[1],p=Object(s.useState)(w.LOADING),b=Object(N.a)(p,2),j=b[0],h=b[1];return Object(s.useEffect)((function(){Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(w.LOADING),e.prev=1,e.next=4,r.getPlants();case 4:t=e.sent,d(t),h(w.SUCCESS),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h(w.ERROR);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[r]),j===w.LOADING?Object(i.jsx)(E,{loadingText:"Loading available plants"}):j===w.ERROR?Object(i.jsx)(C,{title:"Error: Could not load plants",description:"We were unable to get a list of available plants. Please check your connection, sign in with a different user or refresh this page."}):Object(i.jsx)(T.Provider,{value:{fetchPlantsStatus:j,availablePlants:l,api:r,auth:n},children:t})},D=T,J=n(26);!function(e){e.PLANT="currentPlant",e.PROJECT="currentProject",e.BOOKMARK="Procosys Bookmark"}(U||(U={}));var F=function(e){var t,n=e.filter((function(e){return!!e&&!!e.pkgNumber}));return t=n,Array.from(new Set(t.map((function(e){return e.pkgNumber})))).map((function(e){return t.find((function(t){return t.pkgNumber===e}))}))},G=function(e){var t=window.localStorage.getItem("".concat(U.BOOKMARK,": ").concat(e));return t?F(JSON.parse(t)):[]},Q=function(e){var t=Object(s.useContext)(_).currentProject,n=null===t||void 0===t?void 0:t.id.toString(),r=Object(s.useState)(),c=Object(N.a)(r,2),a=c[0],i=c[1],o=Object(s.useState)(!1),u=Object(N.a)(o,2),l=u[0],d=u[1];return Object(s.useEffect)((function(){i(G(n))}),[n]),Object(s.useEffect)((function(){a&&d(a.some((function(t){return t.pkgNumber===e.pkgNumber})))}),[a,e.pkgNumber]),Object(s.useEffect)((function(){if(a)if(l){if(!e)return;i([].concat(Object(J.a)(a),[e]))}else{if(a.length<1)return;i(a.filter((function(t){return t.pkgNumber!==e.pkgNumber})))}}),[l]),Object(s.useEffect)((function(){a&&window.localStorage.setItem("".concat(U.BOOKMARK,": ").concat(n),JSON.stringify(F(a)))}),[a]),{setIsBookmarked:d,isBookmarked:l}},V=n(14),K=n(15),X=n(16),q=n(36),M=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).name="Could not read plant from URL",r}return n}(Object(q.a)(Error)),z=function(e,t){if(!(e.length<1)){var n=e.find((function(e){return e.slug===t}));if(t&&!n)throw new M("This plant is either non-existent or unavailable to you. Please double check your URL and make sure you have access to this plant");return n}},H=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).name="Could not read project from URL",r}return n}(Object(q.a)(Error)),Z=function(e,t){var n=e.find((function(e){return e.title===t}));if(!n)throw new H("This project is either non-existent or unavailable to you. Please double check your URL and make sure you have access to this project");return n},W=u.a.createContext({}),Y=function(e){var t=e.children,n=Object(P.h)(),r=n.plant,o=n.project,u=Object(s.useContext)(D).api,l=Object(P.g)(),d=Object(s.useState)(),p=Object(N.a)(d,2),b=p[0],j=p[1],h=Object(s.useContext)(D).availablePlants,f=Object(s.useState)([]),O=Object(N.a)(f,2),g=O[0],x=O[1],A=Object(s.useState)([]),m=Object(N.a)(A,2),v=m[0],k=m[1],C=Object(s.useState)(),S=Object(N.a)(C,2),I=S[0],y=S[1],R=Object(s.useState)(w.LOADING),B=Object(N.a)(R,2),T=B[0],L=B[1];Object(s.useEffect)((function(){var e=window.localStorage.getItem(U.PLANT),t=window.localStorage.getItem(U.PROJECT);!r&&e&&t&&t&&l.push("/".concat(e,"/").concat(t))}),[r,o]),Object(s.useEffect)((function(){r&&(window.localStorage.setItem(U.PLANT,r),o&&window.localStorage.setItem(U.PROJECT,o))}),[r,o]),Object(s.useEffect)((function(){r||j(void 0),h.length<1||j(z(h,r))}),[h,r]),Object(s.useEffect)((function(){o||y(void 0),g.length<1||!o||y(Z(g,o))}),[g,o]),Object(s.useEffect)((function(){b&&Object(a.a)(c.a.mark((function e(){var t,n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(w.LOADING),e.prev=1,e.t0=Promise,e.t1=u.getProjectsForPlant(b.id),e.next=6,u.getPermissionsForPlant(b.id);case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=10,e.t0.all.call(e.t0,e.t3);case 10:t=e.sent,n=Object(N.a)(t,2),r=n[0],a=n[1],x(r),k(a),L(w.SUCCESS),e.next=22;break;case 19:e.prev=19,e.t4=e.catch(1),L(w.ERROR);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))()}),[b]);return r&&!b||o&&!I?Object(i.jsx)(E,{loadingText:"Loading plant from URL"}):Object(i.jsx)(W.Provider,{value:{fetchProjectsAndPermissionsStatus:T,permissions:v,currentPlant:b,availableProjects:g,currentProject:I},children:t})},_=W;function $(){var e=Object(o.a)(["\n    width: ",";\n    height: 50px;\n    margin: 15px auto 15px auto;\n"]);return $=function(){return e},e}function ee(){var e=Object(o.a)(["\n    box-sizing: border-box;\n    background-color: #fff;\n    border: 1px solid #f1f1f1;\n    position: relative;\n    overflow: hidden;\n    margin: 20px;\n    ::before {\n        content: '';\n        display: block;\n        position: absolute;\n        left: -150px;\n        top: 0;\n        height: 100%;\n        width: 50%;\n        background: linear-gradient(\n            to right,\n            transparent 0%,\n            #fafafa 50%,\n            transparent 100%\n        );\n        animation: "," 1s cubic-bezier(0.1, 0, 0.2, 1) infinite;\n    }\n"]);return ee=function(){return e},e}function te(){var e=Object(o.a)(["\n    from {\n        left: -150px;\n    }\n    to   {\n        left: 100%;\n    }\n"]);return te=function(){return e},e}function ne(){var e=Object(o.a)(["\n    padding-top: 24px;\n    & h3 {\n        margin: 0;\n        text-align: center;\n    }\n"]);return ne=function(){return e},e}var re=l.default.main(ne()),ce=Object(l.keyframes)(te()),ae=Object(l.default)(d.Card)(ee(),ce),ie=Object(l.default)(ae)($(),(function(e){return e.fullWidth?"100%":"92%"})),oe=function(e){for(var t=e.text,n=e.fullWidth,r=e.nrOfRows,c=void 0===r?10:r,a=[],o=0;o<c;o++)a.push(0===o?Object(i.jsx)(ie,{"data-testid":"skeleton-row",fullWidth:!!n},o):Object(i.jsx)(ie,{fullWidth:!!n},o));return Object(i.jsxs)(re,{children:[t&&Object(i.jsx)("h3",{children:t}),a]})},se=n(29);function ue(){var e=Object(o.a)(["\n    & h4 {\n        margin: 0 0 4px 0;\n    }\n    & p {\n        margin: 16px 0 0 0;\n    }\n    & button {\n        width: fit-content;\n        margin-bottom: 24px;\n    }\n    padding: 16px;\n    display: flex;\n    flex-direction: column;\n    background-color: #deecee;\n"]);return ue=function(){return e},e}function le(){var e=Object(o.a)(["\n    width: 100vw;\n    height: 100vh;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: white;\n    backdrop-filter: blur(1px);\n    z-index: 500;\n"]);return le=function(){return e},e}function de(){var e=Object(o.a)(["\n    padding-bottom: 15px;\n    color: #939393;\n"]);return de=function(){return e},e}function pe(){var e=Object(o.a)(["\n    padding: 16px;\n    display: flex;\n    flex-direction: column;\n    & p {\n        margin: 0;\n    }\n    & button {\n        width: fit-content;\n        margin-bottom: 24px;\n    }\n"]);return pe=function(){return e},e}function be(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px;\n"]);return be=function(){return e},e}function je(){var e=Object(o.a)(["\n    width: 297px;\n    position: fixed;\n    top: 0;\n    height: calc(100vh);\n    left: 0;\n    z-index: 1000;\n    background-color: white;\n    border-right: 2px solid #deecee;\n"]);return je=function(){return e},e}var he=Object(l.default)(se.a.aside)(je()),fe=l.default.div(be()),Oe=l.default.div(pe()),ge=l.default.p(de()),xe=Object(l.default)(se.a.div)(le()),Ae=l.default.div(ue()),me=function(e){var t=e.animation,n=e.backdropAnimation,r=e.setDrawerIsOpen,c=Object(s.useContext)(D).auth,a=Object(P.g)(),o=Object(P.h)(),u=Object(s.useContext)(_),l=u.currentPlant,p=u.currentProject;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(xe,{style:n,onClick:function(){return r(!1)}}),Object(i.jsxs)(he,{style:t,children:[Object(i.jsxs)(fe,{children:[Object(i.jsx)("h2",{children:"Welcome"}),Object(i.jsx)(d.Button,{variant:"ghost",onClick:function(){return r(!1)},children:Object(i.jsx)(m,{name:"close",color:"black"})})]}),Object(i.jsxs)(Oe,{children:[Object(i.jsx)("p",{children:"Signed in as:"}),Object(i.jsx)(ge,{children:c.getUserName()}),Object(i.jsx)(d.Button,{variant:"outlined",onClick:c.logout,children:"Sign out"})]}),Object(i.jsxs)(Ae,{children:[Object(i.jsx)("p",{children:"Selected plant:"}),Object(i.jsx)("h4",{children:l?l.title:"None"}),Object(i.jsxs)(d.Button,{onClick:function(){window.localStorage.removeItem(U.PLANT),window.localStorage.removeItem(U.PROJECT),r(!1),a.push("/")},children:["Change plant",Object(i.jsx)(m,{name:"chevron_right",color:"white"})]}),l&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("p",{children:"Selected project:"}),Object(i.jsx)("h4",{children:p?p.description:"None"}),Object(i.jsxs)(d.Button,{onClick:function(){window.localStorage.removeItem(U.PROJECT),r(!1),a.push("/".concat(o.plant))},children:["Change project",Object(i.jsx)(m,{name:"chevron_right",color:"white"})]})]})]})]})]})},ve=function(e){var t=e.match(/.*\//);return t?t[0].slice(0,-1):""};function ke(){var e=Object(o.a)(["\n    /* margin-right: 4%; */\n"]);return ke=function(){return e},e}function Ce(){var e=Object(o.a)(["\n    height: 54px;\n    width: 100%;\n    background-color: #fff;\n    border-bottom: ",";\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    padding: 4px 4% 4px 4%;\n    position: fixed;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 10;\n    & img {\n        width: 24px;\n        height: 24px;\n        transform: scale(1.3);\n    }\n    & h4 {\n        margin: 0;\n    }\n    & button {\n        padding: 0;\n    }\n"]);return Ce=function(){return e},e}var Se=l.default.nav(Ce(),(function(e){return e.noBorder?"none":"1px solid #deecee"})),we=Object(l.default)(d.Button)(ke()),Ie=function(e){var t=e.leftContent,n=e.midContent,r=void 0===n?"":n,c=e.rightContent,a=e.noBorder,o=void 0!==a&&a,u=Object(s.useState)(!1),l=Object(N.a)(u,2),p=l[0],b=l[1],j=Object(P.g)(),h=Object(P.i)().url,f=Object(se.b)({transform:p?"translateX(0px)":"translateX(-300px)"}),O=Object(se.b)({opacity:p?.6:0,display:p?"block":"none"});return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(Se,{noBorder:o,children:["hamburger"===(null===t||void 0===t?void 0:t.name)?Object(i.jsxs)(d.Button,{variant:"ghost",onClick:function(){return b(!0)},children:[Object(i.jsx)(m,{name:"menu",color:"#555",title:"Menu"}),"Menu"]}):"back"===(null===t||void 0===t?void 0:t.name)?Object(i.jsxs)(d.Button,{variant:"ghost",onClick:function(){return j.push(ve(h))},children:[Object(i.jsx)(m,{name:"arrow_back",title:"Back"}),t.label]}):Object(i.jsx)(i.Fragment,{}),Object(i.jsx)("h4",{children:r}),"logo"===(null===c||void 0===c?void 0:c.name)?Object(i.jsx)(i.Fragment,{}):"search"===(null===c||void 0===c?void 0:c.name)?Object(i.jsx)(d.Button,{variant:"ghost_icon",onClick:function(){return j.push("".concat(h,"/search"))},children:Object(i.jsx)(m,{name:"search",title:"Search"})}):"newPunch"===(null===c||void 0===c?void 0:c.name)?Object(i.jsx)(we,{variant:"ghost",onClick:function(){return j.push("".concat(h,"/new-punch"))},children:"New punch"}):Object(i.jsx)(i.Fragment,{})]}),Object(i.jsx)(me,{setDrawerIsOpen:b,animation:f,backdropAnimation:O})]})};function Ee(){var e=Object(o.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 16px;\n    & h2 {\n        text-align: center;\n        margin: ",";\n    }\n    & h6 {\n        text-align: center;\n        margin: 0 0 5px 0;\n        margin-bottom: 32px;\n    }\n"]);return Ee=function(){return e},e}var ye=l.default.div(Ee(),(function(e){return e.hasSubtitle?"16px 0 0 0":"16px 0 24px 0"})),Re=function(e){var t=e.title,n=e.subtitle;return Object(i.jsxs)(ye,{hasSubtitle:!!n,children:[Object(i.jsx)("h2",{children:t}),n&&Object(i.jsx)("h6",{children:n})]})};function Be(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    text-decoration: none;\n    padding: 16px 4%;\n    margin: 0 10px;\n    position: relative;\n    & p {\n        margin: 0 30px 0 0;\n    }\n    &:hover {\n        background-color: ",";\n    }\n    & svg {\n        position: absolute;\n        right: 10px;\n    }\n"]);return Be=function(){return e},e}function Pe(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    & button {\n        border-radius: 0;\n    }\n"]);return Pe=function(){return e},e}var Ne,Ue=l.default.main(Pe()),Te=Object(l.default)(B.b)(Be(),g.interactive.secondary__highlight.hex),Le=function(){var e=Object(s.useContext)(D).availablePlants.map((function(e){return Object(i.jsxs)(Te,{to:"/".concat(e.slug),children:[Object(i.jsx)("p",{children:e.title}),Object(i.jsx)(m,{name:"chevron_right",title:"chevron right"})]},e.id)})),t=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Re,{title:"Select plant"}),e]});return e.length<1&&(t=Object(i.jsx)(C,{title:"No plants to show",description:"We were able to connect to the server, but there are no plants to show. Make sure you're logged in correctly, and that you have the necessary permissions"})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie,{leftContent:{name:"hamburger"}}),Object(i.jsx)(Ue,{children:t})]})},De=function(){var e=Object(s.useContext)(_),t=e.availableProjects,n=e.currentPlant,r=e.fetchProjectsAndPermissionsStatus,c=Object(P.g)(),a=null===t||void 0===t?void 0:t.map((function(e){return Object(i.jsxs)(Te,{to:"/".concat(null===n||void 0===n?void 0:n.slug,"/").concat(e.title),children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:e.title}),Object(i.jsx)("p",{children:e.description})]}),Object(i.jsx)(m,{name:"chevron_right",title:"chevron right"})]},e.id)})),o=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Re,{title:"Select project",subtitle:null===n||void 0===n?void 0:n.title}),a]});return r===w.LOADING&&(o=Object(i.jsx)(oe,{text:"Loading projects"})),r===w.ERROR&&(o=Object(i.jsx)(C,{title:"Error: Unable to load projects",description:"There might be a problem with your connection or your permissions"})),r===w.SUCCESS&&a.length<1&&(o=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Re,{title:"No projects to show"}),Object(i.jsx)(d.Button,{onClick:function(){return c.push("/")},children:"Select a different plant"})]})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie,{leftContent:{name:"hamburger"}}),Object(i.jsx)(Ue,{children:o})]})},Je=n(10),Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){var r=Object(s.useContext)(_).permissions,c=Object(s.useState)(w.LOADING),a=Object(N.a)(c,2),o=a[0],u=a[1];return Object(s.useEffect)((function(){r.length<1||(t.every((function(e){return r.indexOf(e)>=0}))?u(w.SUCCESS):u(w.ERROR))}),[r]),o===w.LOADING?Object(i.jsx)(oe,{text:"Checking permissions"}):o===w.SUCCESS?Object(i.jsx)(e,Object(Je.a)({},n)):Object(i.jsx)(C,{title:"No access",description:"You do not have permission to view this resource"})}},Ge=n(24),Qe=n.n(Ge);!function(e){e[e.INACTIVE=0]="INACTIVE",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR"}(Ne||(Ne={}));var Ve,Ke=function(e,t){switch(t.type){case"FETCH_START":return Object(Je.a)(Object(Je.a)({},e),{},{searchStatus:Ne.LOADING,hits:Object(Je.a)(Object(Je.a)({},e.hits),{},{items:[]})});case"FETCH_SUCCESS":return Object(Je.a)(Object(Je.a)({},e),{},{searchStatus:Ne.SUCCESS,hits:t.payload});case"FETCH_ERROR":return Object(Je.a)(Object(Je.a)({},e),{},{searchStatus:Ne.ERROR});case"FETCH_INACTIVE":return Object(Je.a)(Object(Je.a)({},e),{},{searchStatus:Ne.INACTIVE,hits:Object(Je.a)(Object(Je.a)({},e.hits),{},{items:[]})})}},Xe=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r,a,i,o){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"FETCH_START"}),e.prev=1,e.next=4,o.searchForCommPackage(t,a,r,i);case 4:s=e.sent,n({type:"FETCH_SUCCESS",payload:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:"FETCH_ERROR",error:"err"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r,c,a,i){return e.apply(this,arguments)}}(),qe=function(){var e=Object(s.useContext)(D).api,t=Object(s.useReducer)(Ke,{hits:{maxAvailable:0,items:[]},searchStatus:Ne.INACTIVE}),n=Object(N.a)(t,2),r=n[0],c=r.hits,a=r.searchStatus,i=n[1],o=Object(s.useState)(""),u=Object(N.a)(o,2),l=u[0],d=u[1],p=Object(s.useContext)(_),b=p.currentProject,j=p.currentPlant;return Object(s.useEffect)((function(){if(j&&b){if(!(l.length<2)){var t=Qe.a.CancelToken.source(),n=t.cancel,r=t.token,c=setTimeout((function(){return Xe(l,i,j.id,b.id,r,e)}),300);return function(){n("A new search has taken place instead"),clearTimeout(c)}}i({type:"FETCH_INACTIVE"})}}),[l,b,j]),{hits:c,searchStatus:a,query:l,setQuery:d}};!function(e){e.OS="OS",e.PA="PA",e.PB="PB",e.OK="OK"}(Ve||(Ve={}));var Me=function(e){return e===Ve.OS?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAA8CAYAAACelmGhAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGDBASQTZKJwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAC+klEQVRYw+WZTWsTQRjH/7M7zdZUNhhoIdgI0h7UlPZq/ABNL4UKMRZ6tAoePKiYREvp5mLTHtK7tgeFHsQehF6afIH15EEMeChYDKUHoZBA1cZs4qEv1GSmmezLlOIDgTAL83ven2GG4FAMw2ic+E8gQQgLflK8VKQt3EslhOFeKGIL7pYijuFOlHANbkcRT+CiSngKb6eINDhLEQVnKFS2tVLhzdCj8BqGQahMoKeWi0Jdg3cKdAxnJY+dUqWyrLQFdxsoBPcS2tJeOQo0vKx/KhvKdLvMwXIk52uwpONFqMFRKIEoiC8MQnUAQKNWQeNnEfW9IqzdArJrEffgyQkT2tU5KPocO3OpDqJHoehR0NA0ZsMm9jefYHF9zJnb01NlXBjZgKJHxeOpR9E9nEd6smQfnp4sQRvM2atjqsM3kENywuwcnhzPwzeQc9ZIqA7t2uvOY94VfnycUM1S282jtrOMhbUhAEAq/gXa4BKI1t9qoRZG+u53ZN9dEYMnx/Ogvezk+rOzjJevtgEMHa8dKLGC2WdxKP7WTFd7EwA+irldvTTK9UhtZ4X7rfotw97v4g3xmKsBdmZbZfPU8lng1DfRwuIxV7r7mev1itk2yTKZjLP2SvxsCxq1yhn2duss4TKmGte9qi7Bco57eYno6kit7xWhMroV6YkA2D510+dTZeb6/GpADG6VTajBWKvl/giAAhecum3CN7jBCeOSmNvn3xLuoHjx4DLflaF7XE92lO0Wp6F0haYx8/A6UidGZTpexMyjm6C9d9gt+cf7zqZadfMpuoc3mJON9iVA+xKYG2mfWPX9ErJN8W5r+eJ6DNUtw3FW73+9b6/JZFcDqG5lbEEbtcrBOe5D1H6Hm38D/Pp0C1bZFAZbZRO/P8eY7u749Lq4HgNQQCqeAw3GQPwRKD2Rf47O9b0irIqJesU8PFyMuXtuP9h0+/DHq/ehczxYZNxQ/V/3cJ7DRa+8qWygq3AnzxxUNtA23O3nLSob2BYu6znzL84ZGEsiuEyXAAAAAElFTkSuQmCC":e===Ve.PA?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAA8CAYAAACelmGhAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGDBEGQvevGwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAC0klEQVRYw+WZz2sTQRTHv5tsk7hZNzSkh4A5mNYgBtqiUIiQglqaS6/xH1CPHvTgVQuee/GoHvXiNYdWAhUCLvQgVlgotGhBoQebhPw0idmNh5jSJjNm9tcE9Z3CLNnPe2/er50R8FuOpy/1Br8j5X0BHEQgwU+Lm4qMhbupBDPcDUUswZ1SxDbcjhKOwa0o4gqcVQlX4eMU4QYnKeLBBEXkbS1X+DB0sL2R8r4g8gS6ajkr1DG4WaBtOCl4rKSqyMtKS3CngUxwN6Ej5ZUkbpZcap7zqvPiJBrLQP6uxiIXFuENr8ITSkHwxSCICgCg162i19RgNDTopbeopz86N8lI23H4Lz6GR0kxKWlUVbQPHqK5UqQGHJPb5Z01nFvYZAYDgEdJITC/BVldtr7nsroM/9yGtTwWFfhmNyBtx83DpXwEvtkNe4VEVOC//Nw8fCr24CSghqVb2kJLy6IYTqAYTqClZdFrfyND/DHI79PscCkfgTiTJT77efQClbn7aKR3T9Ya6V2UojdhNDXif7wzt9nh3ulVqke6Ry+pzzpf1snvk6+YgIfIka1XVGr69D1Azm/BH2MvMp7ABWr+jpNiOGGvvApSkrje61YnWNv1ScJ5dDWqe70KB8sp7qUFoqMt1Who8PpHQUIwOfal53fWiOu1pRwbXK+o8IYzo5ZLf4YH38XhIzSi/jbm2Nxeu/aa2igU7RHdldE7VE+ainadUlCmoncR2nuK4KlWKRcWETp4Ru0H3e9vzE0yUj6CwPwmtbOxitH+inL0lrlJprlyjM7hE9tR3d67Z63I1Jdy6ByuW4L2utX+HHfjs/UKV7v6Cj8+XIdeUZnBekVF61MG9aH0snUaFSwsQAxnIEhJeILJM6Oz0dCgV1UYVfXMoEGbXidyFGZqdP6nPpcGn9//1zmc63DWI2+RN9BRuJ1rDpE30DLc6estkTdwLJzXdeYvU9glIbU3fVEAAAAASUVORK5CYII=":e===Ve.PB?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAA8CAYAAACelmGhAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGCy4E8WjyjgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEGElEQVRYw81YS08bVxT+zp3BL9AEkBIJya5cUalVLaVuN63JxtnEy7CBbSKVrtu0PwD4AUVkXaI4axalu6SbgKoyrFoayVUrRcIVIBapomGwx4/M3NMFiQvOXD9n3J7lvfb95nz3O497gNd2Zibz1d3k9/buzDxGZHQRXDCeni9SmQnbAtpqPFcuhwUu/BYZnAbzXcnuQWU3+bRmvnNnZJ77//CcDZby/sSN4/2Rgrd/CBGtAGJnmGsRg/yJwWnJsijZPaiaqYdnPyXzI/NceS3Mj4TQi72yIYISD4PTICz3I9LAPO8kUlXIhgp+mRlsaySKsZj4gT4uWwCgjyqbgZGVLNOWZbeWQgVnhkWEbQGsx28c7bTv62FRzMCW26w8mrppWRf3zsxk3q1X9qduWpYepJeCuEigrfjcZS/51/RkrSbvgOQ8M/Kx6EQesHb0sL3UiG47jncXxJPgAGhnhkXAeiI+VqRPDv5q99Jx3K9AuA1GlpkvxNQQ4Axsa8CKn3jOzGReA5admptXgQ0Azvtg2mo2K/fbaa38nM4S3HmAvgTzJPfJoN5dPMcdxOPmW5wMYHpQ4hmqqvky0BYiAbZP+fjckX+otcTjeNmgvOxIeytELoqHOMzs+y94pe5mBWEZCBdwqCSjGTlo07cgruRAkRRIN86Zc22wU4KsluC9/BGebQYHTokMou8uQxg5/33dABk5CCMHfWYJ0jbReP41uHE0XBulXV1A/KPHSmDfg40cYtefQJsuDA6uTRcQfW9tsDjWDURm10CJTP/gFE0hMrs2XCLRDUQ/+K5/8LHUvZag2s19+QT10gIcMwXHTKFeWlDer4imoE3d6h2coinoVxd8916dbKD55xKkvddak/Ye6s8KkE5JoZvF3sH9vrTl9ckD/3Ts2mgerPqfN/FhH+BX/JXtnZodw4cVnlM01Xuci1jSd112SR7s2nDM1HAPRVV4sGuHOxzoaN5/CR72WKQjvZoxAs8V9KqEGGhJldUStOjbQDSe6X6oIjm5LzZ7A/dOTd+KJBIZkG4or0WMZxDxKUTs2m+BK2n3/t5UFgo9eU/t9cznSib7EpyqGxmbWUJk9luIC7lAM3KIvL/RM+VdO5nm828Qu/7Yt7Lp1xahX1vsSViycQjPB7xjnHPjEM3yytCqbvzxxWBJxnuxiWZ5dbDns2uf93GKYtNThnNPNlD7ZQ7eqdkzsHdqov6s4Et3390rNw7R+H0RwvgM+nQBlMhAjGcutc6yWoJnm5C2eanRCKxvl/Yemj0c/L8sLMywRjIKUz2/J14/v0Ofw6kmVKHO4UjI9Vc1Z6d9yBAK+JsJld/sJhRwZlgg7KsmVKGAd5rdhALeTTyhgAflZV9zOALWx3Teinx6/NtIxiKdxpth2D/F3TQnbvj8bwAAAABJRU5ErkJggg==":e===Ve.OK?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAA8CAYAAACelmGhAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGDBMV9H+MRwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACv0lEQVRYw+WZXW4SURTH/wNTBsEMKQkRTPkKJhrH1GdYAGxAugF0AboB7QLEBVQ2oBsoLMB548FkjCYmgCXBhqQJk4CA8+FDpWnhXrnzdYl6nsidML9zzj1fc6+A33Lng2yvfp9XdAEcRCDBr0uQimyFB6kEMzwIRVzB/VLEM9yLEr7B3SgSCJxViUDh2xThBicpEsIOReRtLVf4OnS1vecVXRB5AgO1nBXqG9wp0DOcFDxuUlXkZaUruN9AJniQ0I3ySpIgSy41z3nVeXEXjWUlf1djGcg1hJNVhBJlCJEsBFEGANiGDnumwZpqMC86yOtt/yaZXqwMqfgSIbnMpKSlq1h8fYHi4hM14JjcPkg1cOvxKTMYAEJyGdHDNgbJuvs9HyTrkO413eWxKCNSaqIXKzuH9yQFkVLTWyERZUgPTpzD97LPrwJqXYyLNuZaHWk1gbSawFyrw14MyRApi8H+E3Z4T1Igpsj79XP0FgdfjlDQO1drBb2DTFeBNdOI/wmnjtjh4f0q1SPGqEV9tuwdk993+6EDeIIcJOZEpabPpQfI+S1IWfYiE4oeUPN3m6TVhLfyKsQU4rpt6Dus7eYu4Ty6GtW9YZmD5RT30gLR15ZqTTWEpU2QEFe2vvRbqkFcz41bbHBzoiKcrG1aHvszvB8vI0JoRLahA2twqttz399QG8VZ4TXdlZkG1ZOOot2kFJS9zFMMSyfoX2uVA7mG4f131H5gjN87m2R6koLo4Sm1s7GKtTjD3e4jZ5NMcaFh2X/lOaoXn5+5KzL5cQvL/rErqG3ol3PcTHVf4XKjJn50KzAnKjPYnKiYf6whP275dxTWl6sQkzUIMQWhuHJjdLamGkxdhaWrNwYN2vS6k6MwR6PzP/W5tPr8/r/O4QKHsx55i7yBvsK9XHOIvIGu4X5fb4m8gVvhvK4zfwGNaCetORhCMQAAAABJRU5ErkJggg==":void 0},ze=function(e){var t,n=e.mcStatus,r=e.commStatus;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("img",{src:(t=r,t===Ve.OS?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAA8CAYAAACaY7GcAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGCy0M1J4pfwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAB5klEQVRYw+2Y0XGjQBBEu1UEwGUgRXDK4HAEJ0dgKQI5g5nJ4JwBykDOAGegEAjBETD3s7j2VCAMAv3c9g9VWlRve9QD2iEWlojkAF5J/lTVZwDIFgQVJI8AivBx1a5nM8MKkr8B7AHkffdlc7harVYv7r6LXN1UdqerI4DC3fMx380mhuJ4q3yzQIMr+W75JkNFZAtgd6+rQeiUUEyGxlEfG4opWoXrGsB27jLehJpZqapP7r4h+QqgXhQqIl+/nZnVIvKmqhuSBYByCShV1QHU7n4CUJpZfRWudfQc3d7BqlT1KYb+s0iyFJFTVxtFD/H1nNBWNYDK3d/M7NKxgT3JlxGt9S1orAvJP03TfHSVP7jfDbgfDY1VuvvJzKrrBTP75e778GqbFfpVfpLa5z6ETyL3s0BjnUmeu8IXuc/bvytzQa/DZ9fuu/p0CVUky6Zp3s3s81HQVp8AznHrZVheOYA9SQA4xG+ZhypBEzRBEzRBEzRBEzRBE/R/gdYPh4ZJyg7A+aHlFZF3VX129427H5Z2z76FgaP8FJWqevsAJSIfqnpw9x/BfbW4056NrKO573qq01Hn03CkP4QNjJ0j3d+n8RATgI4JH+dM5UD4hoM0RVH42ta7LO60ZyPtELNWVQOAv24ZCjXzLs/fAAAAAElFTkSuQmCC":t===Ve.PA?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAA8CAYAAACaY7GcAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGDBIXA2rcKgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA2klEQVRYw+3YYQqDMAwF4HR4AWFX8P4H2hUEj+B+ZTDX2jbJa2G8/FJ0fmnRwF4ScO3rdurx83glEZEFDeVqGYmFoa1QCGrBTKgH6kajsCoaDRVRJPSDjsK0HjKh0sjt1TGY9nU79QTdwBeau4DAi2gJj2igiiIa6EKjtt+MelbvRi2rD0VbVw9Baw18JtKIuXttII0c9opPGfhEiRIlSpQoUaJEiRL9K/Tu3xWq5uRIpRugOVLtRkiO1POjsBzJ+gBXjuTdMlOOFPmiNOdIiE+jmiOhB0EuR3oD2L+Nfc7wzDQAAAAASUVORK5CYII=":t===Ve.PB?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAA8CAYAAACaY7GcAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGDBErByjzbgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA2UlEQVRYw+3YwQ2DMAwFUKfixgpM0v3FJF2BMz25UmlCEts/karvEwjKcyKw1J8EXMe+nXq8Pl9JRGRBQ7laRmJhaCsUglowE+qButEorIpGQ0UUCf2gozCth0yoNHJ7dQymY99OPUE38IXmLiDwIlrCIxqooogGutCo7TejntW7UcvqQ9HW1UPQWgOfiTRi7l4bSCOHveJTBj5RokSJEiVKlChRokT/Cr37d4WqOTlS6QZojlS7EZIj9fwoLEeyPsCVI3m3zJQjRb4ozTkS4tOo5kjoQZDLkd7jIJMlJpKxTQAAAABJRU5ErkJggg==":t===Ve.OK?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAA8CAYAAACaY7GcAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAACE4AAAhOAFFljFgAAAAB3RJTUUH4QwGDBMAmaJorAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA2UlEQVRYw+3YMQ6DMAwFUKdiZuUuvb+4S1cuQCdXKk1IYvsnUvU9gaA8JwJL/UnAte3rqcev55FERBY0lKtlJBaGtkIhqAUzoR6oG43Cqmg0VESR0A86CtN6yIRKI7dXx2Da9vXUE3QDX2juAgIvoiU8ooEqimigC43afjPqWb0btaw+FG1dPQStNfCZSCPm7rWBNHLYKz5l4BMlSpQoUaJEiRIlSvSv0Lt/V6iakyOVboDmSLUbITlSz4/CciTrA1w5knfLTDlS5IvSnCMhPo1qjoQeBLkc6Q0xdIvFScBFhQAAAABJRU5ErkJggg==":void 0),alt:"Comm package status indicator, left side"}),Object(i.jsx)("img",{src:Me(n),alt:"MC package status indicator, right side"})]})};function He(){var e=Object(o.a)(["\n    display: flex;\n    padding: 12px;\n    & img {\n        height: 20px;\n        margin-left: -2px;\n    }\n"]);return He=function(){return e},e}function Ze(){var e=Object(o.a)(["\n    width: 100%;\n"]);return Ze=function(){return e},e}function We(){var e=Object(o.a)(["\n    cursor: pointer;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    border-top: 1px solid #e5e5e5;\n    & p {\n        flex: auto;\n        width: 200px;\n    }\n    & h6 {\n        margin: 12px;\n        white-space: nowrap;\n        width: 120px;\n    }\n    &:hover {\n        opacity: 0.7;\n    }\n"]);return We=function(){return e},e}var Ye=l.default.article(We()),_e=l.default.div(Ze()),$e=l.default.div(He()),et=function(e){var t=e.searchStatus,n=e.commPackages,r=Object(P.g)();Object(P.h)().project;return t===Ne.LOADING?Object(i.jsx)(oe,{fullWidth:!0}):t===Ne.SUCCESS&&n.length>0?Object(i.jsx)(_e,{children:n.map((function(e){return Object(i.jsxs)(Ye,{onClick:function(){return r.push("".concat(e.commPkgNo))},children:[Object(i.jsx)($e,{children:Object(i.jsx)(ze,{mcStatus:e.mcStatus,commStatus:e.commStatus})}),Object(i.jsx)("h6",{children:e.commPkgNo}),Object(i.jsx)("p",{children:e.description})]},e.id)}))}):t===Ne.INACTIVE?Object(i.jsx)(_e,{children:Object(i.jsx)("p",{children:Object(i.jsxs)("i",{children:["Start typing your Commissioning Package number in the field above. ",Object(i.jsx)("br",{})]})})}):t===Ne.ERROR?Object(i.jsx)(_e,{children:Object(i.jsx)("p",{children:Object(i.jsx)("i",{children:"An error occurred, please refresh this page and try again."})})}):Object(i.jsx)(_e,{children:Object(i.jsx)("p",{children:Object(i.jsx)("i",{children:"No packages found for this search."})})})};function tt(){var e=Object(o.a)(["\n    padding: 0 4%;\n    & h4 {\n        text-align: center;\n    }\n    & span {\n        height: 60px;\n        margin-bottom: 10px;\n    }\n"]);return tt=function(){return e},e}var nt=l.default.main(tt()),rt=Fe((function(){var e=qe(),t=e.hits,n=e.searchStatus,r=e.query,c=e.setQuery;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie,{leftContent:{name:"back",label:"Bookmarks"}}),Object(i.jsxs)(nt,{children:[n===Ne.SUCCESS?Object(i.jsxs)("h4",{children:["Displaying ",t.items.length," out of ",t.maxAvailable," ","packages"]}):n===Ne.LOADING?Object(i.jsx)("h4",{children:"Loading"}):Object(i.jsx)(Re,{title:"Search",subtitle:"Find a comm. pkg"}),Object(i.jsx)(d.Search,{placeholder:'For example: "1002-D01"',value:r,onChange:function(e){return c(e.target.value)}}),Object(i.jsx)(et,{commPackages:t.items,searchStatus:n})]})]})}),["COMMPKG/READ"]),ct=u.a.createContext({}),at=function(e){var t=e.children,n=Object(s.useContext)(D).api,r=Object(s.useState)(),o=Object(N.a)(r,2),u=o[0],l=o[1],d=Object(s.useState)(),p=Object(N.a)(d,2),b=p[0],j=p[1],h=Object(s.useState)(),f=Object(N.a)(h,2),O=f[0],g=f[1],x=Object(s.useState)(),A=Object(N.a)(x,2),m=A[0],v=A[1],k=Object(P.h)(),C=k.plant,S=k.project,w=k.commPkg;return Object(s.useEffect)((function(){Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCommPackageDetails("PCS$".concat(C),w,S);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))()}),[w,C,S]),Object(s.useEffect)((function(){u&&Object(a.a)(c.a.mark((function e(){var t,r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.getScope("PCS$".concat(C),u.id),n.getTasks("PCS$".concat(C),u.id),n.getPunchList("PCS$".concat(C),u.id)]);case 2:t=e.sent,r=Object(N.a)(t,3),a=r[0],i=r[1],o=r[2],j(a),g(i),v(o);case 10:case"end":return e.stop()}}),e)})))()}),[C,u]),u&&b&&O&&m?Object(i.jsx)(ct.Provider,{value:{details:u,scope:b,punchList:m,tasks:O},children:t}):Object(i.jsx)(E,{loadingText:"Loading commissioning package"})},it=ct;function ot(){var e=Object(o.a)(["\n    height: 12px;\n    margin-top: 2px;\n    margin-left: 8px;\n    & p {\n        margin: 0;\n        font-size: 12px;\n    }\n"]);return ot=function(){return e},e}var st=l.default.div(ot());function ut(e){return e===w.ERROR?"Unable to save.":e===w.LOADING?"Saving data...":e===w.SUCCESS?"Data saved.":""}var lt=function(e){var t=e.value,n=e.unit,r=e.disabled,o=e.rowId,u=e.columnId,l=e.checkItemId,p=e.label,b=Object(s.useContext)(D).api,j=Object(P.h)(),h=j.checklistId,f=j.plant,O=Object(s.useState)(t),g=Object(N.a)(O,2),x=g[0],A=g[1],m=Object(s.useState)(w.INACTIVE),v=Object(N.a)(m,2),k=v[0],C=v[1],S=Object(s.useState)(""),I=Object(N.a)(S,2),E=(I[0],I[1]),y=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x!==t){e.next=2;break}return e.abrupt("return");case 2:return C(w.LOADING),e.prev=3,e.next=6,b.putMetaTableCell(f,l,parseInt(h),u,o,x);case 6:C(w.SUCCESS),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),E(e.t0),C(w.ERROR);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(k===w.SUCCESS){var e=setTimeout((function(){C(w.INACTIVE)}),2e3);return function(){return clearTimeout(e)}}}),[k]),Object(i.jsxs)("td",{children:[Object(i.jsx)(d.TextField,{id:o.toString()+u.toString()+"textfield",meta:n,label:p,value:x||"",disabled:r,variant:(k===w.ERROR?"error":k===w.SUCCESS&&"success")||"default",onBlur:y,onChange:function(e){return A(e.target.value)}}),Object(i.jsx)(st,{children:Object(i.jsx)("p",{children:ut(k)})})]})};function dt(){var e=Object(o.a)(["\n    overflow-x: scroll;\n    padding: 6px 10px 0px 24px;\n    border-left: 2px solid #deecee;\n    margin-top: 6px;\n    & > div {\n        & > p {\n            margin: 0 4px 0 0;\n        }\n        background-color: #deecee;\n        padding: 4px 4px 4px 8px;\n        margin-bottom: 12px;\n        display: flex;\n        align-items: center;\n        width: fit-content;\n    }\n"]);return dt=function(){return e},e}function pt(){var e=Object(o.a)(["\n    border-spacing: 4px;\n    margin-left: auto;\n    & > p {\n        margin: 0;\n        padding-bottom: 12px;\n    }\n    & thead {\n        & label {\n            margin: 0;\n            text-align: center;\n        }\n    }\n    & tbody {\n        vertical-align: bottom;\n        & th {\n            min-width: 100px;\n            padding-right: 10px;\n            & > label {\n                margin: 0;\n                padding-bottom: 22px;\n                float: right;\n            }\n        }\n        & tr {\n            & td {\n                padding: 0;\n                margin: 0;\n            }\n        }\n    }\n"]);return pt=function(){return e},e}var bt=l.default.table(pt()),jt=l.default.div(dt()),ht=function(e){var t=e.labels,n=e.rows,r=e.disabled,c=e.checkItemId,a=Object(s.useState)(!1),o=Object(N.a)(a,2),l=o[0],d=o[1],p=Object(s.useRef)(document.createElement("div")),b=t.map((function(e){return Object(i.jsx)(u.a.Fragment,{children:e&&Object(i.jsx)("th",{children:Object(i.jsx)("label",{children:e.label})})},e.id)})),j=n.map((function(e){var t=e.cells.map((function(t){return Object(i.jsx)(lt,{disabled:r,checkItemId:c,rowId:e.id,columnId:t.columnId,unit:t.unit,value:t.value,label:e.cells.length<2?e.label:""},t.columnId.toString()+e.id.toString())}));return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:Object(i.jsx)("label",{children:e.cells.length>1&&e.label})}),t]},e.id)}));return Object(s.useEffect)((function(){d(p.current.scrollWidth>p.current.clientWidth)}),[p]),Object(i.jsxs)(jt,{ref:p,children:[Object(i.jsxs)(bt,{children:[b.length>1&&Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{}),b]})}),Object(i.jsx)("tbody",{children:j})]}),l&&Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:Object(i.jsx)("i",{children:"Long table. Swipe right"})}),Object(i.jsx)(m,{name:"arrow_drop_right",color:"primary"})]})]})};function ft(){var e=Object(o.a)(["\n    flex: 0 0 80px;\n    display: flex;\n    justify-content: space-between;\n"]);return ft=function(){return e},e}function Ot(){var e=Object(o.a)(["\n    & > p {\n        margin: 8px 0px 8px 0px;\n        padding-left: 24px;\n        border-left: 2px solid #deecee;\n    }\n"]);return Ot=function(){return e},e}function gt(){var e=Object(o.a)(["\n    & button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        background: none;\n        display: flex;\n        align-items: center;\n\n        & p {\n            margin: 0;\n            color: #007079;\n        }\n    }\n    & > p {\n        flex: auto;\n        margin: 0;\n    }\n"]);return gt=function(){return e},e}function xt(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return xt=function(){return e},e}function At(){var e=Object(o.a)(["\n    background-color: ",";\n    /* padding: 12px 0 12px 0; */\n    margin-top: 12px;\n    & p,\n    button {\n        color: ",";\n    }\n    transition: background-color 0.2s ease-in-out;\n    transition: color 0.2s ease-in-out;\n"]);return At=function(){return e},e}var mt=l.default.div(At(),(function(e){return e.disabled,"transparent"}),(function(e){return e.disabled?"#777777":"initial"})),vt=l.default.div(xt()),kt=l.default.div(gt()),Ct=l.default.div(Ot()),St=l.default.div(ft()),wt=function(e){var t=e.item,n=e.isSigned,r=e.updateNA,o=e.updateOk,u=Object(s.useContext)(D).api,l=Object(P.h)().checklistId,p=Object(P.h)().plant,b=Object(s.useState)(w.INACTIVE),j=Object(N.a)(b,2),h=(j[0],j[1],Object(s.useState)(w.INACTIVE)),f=Object(N.a)(h,2),O=(f[0],f[1]),g=Object(s.useState)(!1),x=Object(N.a)(g,2),A=x[0],v=x[1],k=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.postClear(p,parseInt(l),t.id);case 3:o(!1,t.id),r(!1,t.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isNotApplicable){e.next=2;break}return e.abrupt("return",k());case 2:return O(w.LOADING),e.prev=3,e.next=6,u.postSetNA(p,parseInt(l),t.id);case 6:O(w.SUCCESS),o(!1,t.id),r(!0,t.id),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),O(w.ERROR),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isOk){e.next=2;break}return e.abrupt("return",k());case 2:return e.prev=2,e.next=5,u.postSetOk(p,parseInt(l),t.id);case 5:r(!1,t.id),o(!0,t.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(mt,{disabled:t.isNotApplicable,children:[Object(i.jsxs)(vt,{children:[Object(i.jsxs)(kt,{children:[Object(i.jsx)("p",{children:t.text}),t.detailText&&Object(i.jsxs)("button",{onClick:function(){return v((function(e){return!e}))},children:[Object(i.jsx)("p",{children:A?"Hide details":"Show details"}),Object(i.jsx)(m,{name:A?"chevron_down":"chevron_right",size:16})]})]}),Object(i.jsxs)(St,{children:[Object(i.jsx)(d.Checkbox,{disabled:n||t.isNotApplicable,enterKeyHint:!0,onChange:S,checked:t.isOk,label:"",name:"Checked"}),Object(i.jsx)(d.Checkbox,{disabled:n,enterKeyHint:!0,onChange:C,checked:t.isNotApplicable,label:"",name:"Not Applicable"})]})]}),Object(i.jsx)(Ct,{children:A&&Object(i.jsx)("p",{children:t.detailText})}),t.metaTable&&!t.isNotApplicable&&Object(i.jsx)(ht,{disabled:t.isNotApplicable||n,labels:t.metaTable.columnLabels,rows:t.metaTable.rows,isSigned:n,checkItemId:t.id})]})})};function It(){var e=Object(o.a)(["\n    margin: 0;\n    color: #a2a2a2;\n"]);return It=function(){return e},e}function Et(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    margin-top: 48px;\n    padding-bottom: 12px;\n    border-bottom: 2px solid #deecee;\n    & div {\n        flex: 0 0 95px;\n        padding-right: 6px;\n        display: flex;\n        justify-content: space-around;\n    }\n    & h4 {\n        margin: 0;\n    }\n"]);return Et=function(){return e},e}var yt=l.default.div(Et()),Rt=l.default.p(It()),Bt=function(e){var t=e.text,n=e.removeLabels;return Object(i.jsxs)(yt,{children:[Object(i.jsx)("h4",{children:t}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Rt,{children:!n&&"Check"}),Object(i.jsx)(Rt,{children:!n&&"NA"})]})]})};function Pt(){var e=Object(o.a)(["\n    :disabled {\n        margin: 24px 0 12px auto;\n    }\n    margin: 24px 0 12px auto;\n"]);return Pt=function(){return e},e}var Nt=Object(l.default)(d.Button)(Pt()),Ut=function(e){var t=e.items,n=e.updateOk,r=e.allItemsCheckedOrNA,o=Object(s.useContext)(D).api,u=Object(P.h)(),l=u.plant,d=u.checklistId,p=Object(s.useState)(w.INACTIVE),b=Object(N.a)(p,2),j=b[0],h=b[1],f=function(){var e=Object(a.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(w.LOADING),r=t.filter((function(e){return!e.isOk&&!e.isNotApplicable})),e.prev=2,e.next=5,Promise.all(r.map((function(e){return o.postSetOk(l,parseInt(d),e.id)})));case 5:r.forEach((function(e){return n(!0,e.id)})),h(w.SUCCESS),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),h(w.ERROR);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(w.LOADING),r=t.filter((function(e){return e.isOk&&!e.isNotApplicable})),e.prev=2,e.next=5,Promise.all(r.map((function(e){return o.postClear(l,parseInt(d),e.id)})));case 5:r.forEach((function(e){return n(!1,e.id)})),h(w.SUCCESS),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),h(w.ERROR);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)(Nt,{variant:"outlined",onClick:r?O:f,disabled:j===w.LOADING,children:[Object(i.jsx)(m,{name:r?"checkbox":"checkbox_outline"}),r?"Uncheck all":"Check all"]})};function Tt(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    & div:first-of-type {\n        margin-top: 0;\n    }\n    & > div {\n        &:first-child {\n            margin-top: 16px;\n        }\n    }\n"]);return Tt=function(){return e},e}var Lt=l.default.div(Tt()),Dt=function(e){var t=e.checkItems,n=e.details,r=e.isSigned,c=e.allItemsCheckedOrNA,a=e.setAllItemsCheckedOrNA,o=Object(s.useState)(t),l=Object(N.a)(o,2),d=l[0],p=l[1];Object(s.useEffect)((function(){a(d.every((function(e){return e.isOk||e.isNotApplicable})))}),[d,a]);var b=function(e,t){p((function(n){return n.map((function(n){return n.id===t?Object(Je.a)(Object(Je.a)({},n),{},{isNotApplicable:e}):n}))}))},j=function(e,t){p((function(n){return n.map((function(n){return n.id===t?Object(Je.a)(Object(Je.a)({},n),{},{isOk:e}):n}))}))},h=function(e,t,c){return e.isHeading?Object(i.jsx)(Bt,{text:e.text,removeLabels:c}):0===t?Object(i.jsx)(Bt,{text:""}):Object(i.jsx)(wt,{item:e,updateNA:b,updateOk:j,checklistId:n.id,isSigned:r})},f=d.map((function(e,t){var n=!d[t+1]||d[t+1].isHeading;return Object(i.jsx)(u.a.Fragment,{children:h(e,t,n)},e.id)}));return Object(i.jsxs)(Lt,{children:[!r&&Object(i.jsx)(Ut,{allItemsCheckedOrNA:c,items:d,updateOk:j}),f]})},Jt=function(e){return e===w.ERROR?Object(i.jsx)(m,{size:16,name:"error_filled",color:"#EB0000"}):e===w.SUCCESS?Object(i.jsx)(m,{size:16,name:"thumbs_up",color:"#4BB748"}):e===w.LOADING?Object(i.jsx)(i.Fragment,{}):void 0},Ft=function(e,t){return e===w.ERROR?"Unable to save comment.":e===w.SUCCESS?"Comment saved.":e===w.LOADING?"Saving...":""};function Gt(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 48px 0;\n    box-sizing: border-box;\n    & button,\n    button:disabled {\n        width: fit-content;\n        margin-left: auto;\n        margin-top: ",";\n    }\n"]);return Gt=function(){return e},e}function Qt(){var e=Object(o.a)(["\n    margin-bottom: 16px;\n"]);return Qt=function(){return e},e}var Vt=Object(l.default)(d.Card)(Qt()),Kt=l.default.div(Gt(),(function(e){return e.helperTextVisible?"0":"24px"})),Xt=function(e,t){return t===w.LOADING?e?"Unsigning...":"Signing...":e?"Unsign":"Sign"},qt=function(e){var t,n=e.details,r=e.setIsSigned,o=e.isSigned,u=e.allItemsCheckedOrNA,l=Object(s.useContext)(D).api,p=Object(P.h)(),b=p.plant,j=p.checklistId,h=Object(s.useState)(n.comment),f=Object(N.a)(h,2),O=f[0],g=f[1],x=Object(s.useState)(w.INACTIVE),A=Object(N.a)(x,2),m=A[0],v=A[1],k=Object(s.useState)(w.INACTIVE),C=Object(N.a)(k,2),S=C[0],I=C[1],E=Object(s.useState)(!1),y=Object(N.a)(E,2),R=y[0],B=y[1],U=Object(s.useState)(""),T=Object(N.a)(U,2),L=T[0],J=T[1],F=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(w.LOADING),e.prev=1,e.next=4,l.putChecklistComment(b,parseInt(j),O);case 4:v(w.SUCCESS),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),v(w.ERROR);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(w.LOADING),e.prev=1,!o){e.next=8;break}return e.next=5,l.postUnsign(b,parseInt(j));case 5:r(!1),e.next=11;break;case 8:return e.next=10,l.postSign(b,parseInt(j));case 10:r(!0);case 11:I(w.SUCCESS),B(!0),J(o?"Unsign complete.":"Signing complete."),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),I(w.ERROR),B(!0),J(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){m===w.SUCCESS&&setTimeout((function(){v(w.INACTIVE)}),3e3)}),[m]),Object(i.jsxs)(Kt,{helperTextVisible:m!==w.INACTIVE,children:[!o&&!u&&Object(i.jsx)(Vt,{variant:"warning",children:Object(i.jsx)(d.Typography,{type:"body_long",children:"All applicable items must be checked before signing"})}),Object(i.jsx)(d.TextField,{id:"Comment field",maxLength:500,variant:(t=m,t===w.ERROR?"error":t===w.SUCCESS?"success":"default"),disabled:o||m===w.LOADING,multiline:!0,rows:5,label:"Comment",helperIcon:Jt(m),helperText:Ft(m),value:O,onChange:function(e){return g(e.target.value)},onBlur:F}),Object(i.jsx)(d.Button,{onClick:G,disabled:S===w.LOADING||!u,children:Xt(o,S)}),n.signedAt?Object(i.jsxs)("p",{children:["Signed by ",n.signedByFirstName," ",n.signedByLastName," at"," ",new Date(n.signedAt).toLocaleDateString("no-NO")]}):null,Object(i.jsxs)("p",{children:["Updated by ",n.updatedByFirstName," ",n.updatedByLastName," at"," ",new Date(n.updatedAt).toLocaleDateString("no-NO")]}),Object(i.jsx)(d.Snackbar,{onClose:function(){B(!1),J("")},open:R,children:L})]})},Mt=n.p+"static/media/ok.6860e602.svg",zt=function(e){var t=e.status;return t===Ve.OS?Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM3SURBVHgB7Zu9mtJAFIY/0MISOsvY2e3SbZeh08rdO3CvgLW0IunsXK+ALe3Ubq126OyEK3C8AqG0wu/AgGw2/IQkwEz2fZ7DEEgCX07mZH7O1FASURQ1WKjJZBLUarUTvj+lyWdBYldjbUQb0jRtwONHKIEaCkREUlyHIhU3FfKheZ5vPN9XntegIAoRzD+kWHSRX+QqNC3m72jkJJfgPQhNYmiXeYTvJJg/GLDoYX9Ck9xg5nGDjDxBRuI47rD4THuJwyEB8FwpNdZaD7IcmEkwr+hHKWjPcHgk4ovoBkV/3/agrW5p+4i5w+zKHiPi5YttbvGNgm19FbEBjhtDa28SvVawQ2LnGFprXaOljvV8gTtihQAzB61kZdCyAeoc7vF8XSBLFUyxb1l8gLuchWE47vf7P5JfPKjDDtbbVUg9biWDWFodlqZiAPeRR2kv+eE9D9u28R38or3c9k56uAf/6C5vLARb7wbwD2W1TVn2cBf+stA2rcM2Mv+C3zSlBTb1MIdSXGxgZOVKXqaCOW70Bv4TykvNdv3+oBo0xcPH2sctAyWCFSqCjJGL4BNUBJkQEMENVIfTp8jRumLAK3TmIsPvTrAbDfFwgOoQbBri8Y5Hwb4jgg2qg5EovfPEc45oeSiMeHiI6jCus7mVafbNcQZ1NrcMqoOWW1qjOgzqduJJw3/0YoiH9OE5khEk5VzwNTxH0p+knAquwG2t53NMy03LGP6y0JacW5J5JQW/MNT1Yr6R7Dz46OXL5Y17gu0sm4Y/3CSz9tK6h3JFSslk3TMGKXfsg5QHrfUoDMO/DOOv4DbvopSczNQcD8mNUEo1+fYMbvKJYlNzVDblaf2EezMTklzeWvXlpiGeNtwaETG0i3U7rBVsW2CuiDbYIvVw4yCePYGIPuaBAvlvraiI5NJleELpZHRwXEiAutp250z50nxk3TJ6/8b/FSqHZMQu3/s4jqMsB2XOiJcMdIqWvqU8tg4VwTXtNcXeIiNFLPKQ3K4A+0Ej5+qWx2U8eZD0J8kIskkyCvnQmA09XUcFrlIrbX7XJstIHVeYZRnMl+EFiV0NZp2VAS/W0A4b66ikpXj/AE7hFBegivatAAAAAElFTkSuQmCC",alt:"OS"}):t===Ve.OK?Object(i.jsx)("img",{src:Mt,alt:"OK"}):t===Ve.PA?Object(i.jsx)("img",{src:"data:image/png;base64,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",alt:"PA"}):t===Ve.PB?Object(i.jsx)("img",{src:"data:image/png;base64,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",alt:"PB"}):Object(i.jsx)(i.Fragment,{})};function Ht(){var e=Object(o.a)(["\n    padding: 16px 4%;\n    box-sizing: border-box;\n    width: 100%;\n    background-color: ",";\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    box-shadow: ",";\n    /* background-color: #deecee; */\n    & img {\n        max-width: 20px;\n        margin: 10px 16px 10px 0px;\n        flex: 1;\n    }\n    & "," {\n        flex: 1;\n        text-align: right;\n        padding-right: 24px;\n    }\n"]);return Ht=function(){return e},e}function Zt(){var e=Object(o.a)(["\n    flex: 3;\n    padding-right: 15px;\n    & p,\n    h6 {\n        margin: 0;\n    }\n"]);return Zt=function(){return e},e}function Wt(){var e=Object(o.a)(["\n    flex: 1;\n"]);return Wt=function(){return e},e}var Yt=l.default.p(Wt()),_t=l.default.div(Zt()),$t=l.default.div(Ht(),(function(e){return e.isSigned?"#deecee":"#f7f7f7"}),O,Yt),en=function(e){var t=e.details,n=e.isSigned,r=e.descriptionLabel;return Object(i.jsxs)($t,{isSigned:n,children:[Object(i.jsx)(zt,{status:t.status}),Object(i.jsxs)(_t,{children:[Object(i.jsxs)("label",{children:[void 0!==n&&(n?"Signed":"Unsigned")," ",r,":"]}),Object(i.jsx)("p",{children:t.tagDescription})]}),Object(i.jsx)(Yt,{children:t.formularType})]})};function tn(){var e=Object(o.a)(["\n    background-color: white;\n    padding: 12px 4%;\n    display: flex;\n    align-items: center;\n    & p {\n        margin: 0 0 0 12px;\n    }\n    & svg {\n        flex: 24px 0 0;\n    }\n"]);return tn=function(){return e},e}function nn(){var e=Object(o.a)(["\n    padding: 0 4%;\n    display: flex;\n    flex-direction: column;\n"]);return nn=function(){return e},e}var rn=l.default.main(nn()),cn=l.default.div(tn()),an=function(){var e=Object(s.useContext)(D).api,t=Object(s.useState)(w.LOADING),n=Object(N.a)(t,2),r=n[0],o=n[1],u=Object(s.useState)([]),l=Object(N.a)(u,2),d=l[0],p=l[1],b=Object(s.useState)(),j=Object(N.a)(b,2),h=j[0],f=j[1],O=Object(s.useState)(!1),g=Object(N.a)(O,2),x=g[0],A=g[1],v=Object(s.useState)(!0),k=Object(N.a)(v,2),S=k[0],I=k[1],E=Object(P.h)(),y=E.checklistId,R=E.plant;Object(s.useEffect)((function(){h&&A(!!h.signedByFirstName)}),[h]),Object(s.useEffect)((function(){Object(a.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getChecklist(R,y);case 3:n=t.sent,p(n.checkItems),f(n.checkList),o(w.SUCCESS),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),o(w.ERROR);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}),[y,R,x]);var B=Object(i.jsx)(oe,{text:"Loading checklist"});return r===w.ERROR&&(B=Object(i.jsx)(C,{title:"Could not load checklist",description:"Please reload this page or try again later"})),r===w.SUCCESS&&h&&h.id&&d.length&&(B=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(en,{details:h,isSigned:x,descriptionLabel:"checklist"}),x&&Object(i.jsxs)(cn,{children:[Object(i.jsx)(m,{name:"info_circle"}),Object(i.jsx)("p",{children:"Unsign to make changes."})]}),Object(i.jsxs)(rn,{children:[Object(i.jsx)(Dt,{setAllItemsCheckedOrNA:I,allItemsCheckedOrNA:S,checkItems:d,details:h,isSigned:x}),Object(i.jsx)(qt,{allItemsCheckedOrNA:S,isSigned:x,details:h,setIsSigned:A})]})]})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie,{noBorder:!0,leftContent:{name:"back",label:"CommPkg"},rightContent:{name:"newPunch"}}),B]})};function on(){var e=Object(o.a)(["\n    grid-area: 2 / 2 / 3 / 3;\n    & p {\n        margin: 0;\n    }\n"]);return on=function(){return e},e}function sn(){var e=Object(o.a)(["\n    grid-area: 2 / 1 / 3 / 3;\n    & p {\n        margin: 0;\n    }\n"]);return sn=function(){return e},e}function un(){var e=Object(o.a)(["\n    grid-area: 2 / 4 / 2 / 4;\n    display: flex;\n    justify-content: center;\n"]);return un=function(){return e},e}function ln(){var e=Object(o.a)(["\n    grid-area: 2 / 3 / 2 / 4;\n    text-align: center;\n    & img {\n        height: 20px;\n        margin-top: 10px;\n        margin-right: -1.2px;\n    }\n"]);return ln=function(){return e},e}function dn(){var e=Object(o.a)(["\n    grid-area: 1 / 1 / 2 / 5;\n    & p {\n        margin: 0;\n    }\n"]);return dn=function(){return e},e}function pn(){var e=Object(o.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr) repeat(2, 0.5fr);\n    grid-template-rows: repeat(2);\n    grid-column-gap: 8px;\n    grid-row-gap: 8px;\n    padding: 16px 4%;\n    box-shadow: ",";\n    background-color: #f7f7f7;\n    margin: ",";\n    /* background-color: #deecee; */\n"]);return pn=function(){return e},e}var bn=l.default.div(pn(),O,(function(e){return e.atBookmarksPage?"0 4% 10px 4%":"0"})),jn=l.default.div(dn()),hn=l.default.div(ln()),fn=l.default.div(un()),On=l.default.div(sn()),gn=l.default.div(on()),xn=function(e){var t=e.details,n=e.atBookmarksPage,r=void 0!==n&&n,c=Object(P.g)(),a=Object(P.i)().url,o=Q(t),s=o.isBookmarked,u=o.setIsBookmarked;return Object(i.jsxs)(bn,{atBookmarksPage:r,onClick:r?function(){return c.push("".concat(a,"/").concat(t.pkgNumber))}:function(){},children:[Object(i.jsx)(jn,{children:Object(i.jsx)("p",{children:t.description})}),Object(i.jsx)(hn,{children:Object(i.jsx)(ze,{mcStatus:t.MCStatus,commStatus:t.commStatus})}),Object(i.jsx)(fn,{children:Object(i.jsx)(d.Button,{variant:"ghost_icon",onClick:function(e){e.stopPropagation(),u(!s)},children:Object(i.jsx)(m,{color:"primary",name:s?"bookmark_filled":"bookmark_outlined"})})}),Object(i.jsxs)(On,{children:[Object(i.jsx)("label",{children:"PKG number:"})," ",Object(i.jsx)("p",{children:t.pkgNumber})]}),Object(i.jsxs)(gn,{children:[Object(i.jsx)("label",{children:"MC Status:"})," ",Object(i.jsx)("p",{children:t.MCStatus})]})]})};function An(){var e=Object(o.a)(["\n    position: relative;\n"]);return An=function(){return e},e}function mn(){var e=Object(o.a)(["\n    position: absolute;\n    top: 5px;\n    right: 15px;\n    background-color: #f0f0f0;\n    border-radius: 15px;\n    min-width: 16px;\n    padding: 4px 5px 2px 5px;\n    & p {\n        text-align: center;\n        font-size: 12px;\n        color: black;\n        border: none;\n    }\n"]);return mn=function(){return e},e}function vn(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: none;\n    flex: 1;\n    height: 75px;\n    max-width: 100px;\n    margin: 0 15px 0 15px;\n    padding: 20px 0 0 0;\n    opacity: ",";\n    background-color: ",";\n    position: relative;\n    & p {\n        margin: 0;\n        font-weight: ",";\n        border-bottom: ",";\n        margin-bottom: ",";\n    }\n    &:focus,\n    &:hover,\n    &:active {\n        background-color: initial;\n        outline: none;\n    }\n"]);return vn=function(){return e},e}function kn(){var e=Object(o.a)(["\n    width: 100%;\n    max-width: 768px;\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    background-image: linear-gradient(\n        to bottom,\n        rgba(255, 255, 255, 0),\n        rgba(255, 255, 255, 1) 25%,\n        rgba(255, 255, 255, 1)\n    );\n    display: flex;\n    height: 100px;\n    padding-bottom: 5px;\n    justify-content: space-evenly;\n    align-items: flex-end;\n"]);return kn=function(){return e},e}var Cn=l.default.div(kn()),Sn=l.default.button(vn(),(function(e){return e.active?"1":"0.8"}),(function(e){return e.active,"white"}),(function(e){return e.active,"initial"}),(function(e){return e.active?"3px solid #555":"initial"}),(function(e){return e.active?"3px":"initial"})),wn=l.default.span(mn()),In=l.default.div(An()),En=function(e){var t=e.numberOfChecklists,n=e.numberOfTasks,r=e.numberOfPunches,c=Object(P.g)(),a=Object(P.i)().url;return Object(i.jsxs)(Cn,{children:[Object(i.jsxs)(Sn,{"data-testid":"scope-button",active:c.location.pathname.includes("/scope"),onClick:function(){return c.push("".concat(a,"/scope"))},children:[t>0&&Object(i.jsx)(wn,{children:Object(i.jsx)("p",{children:t})}),Object(i.jsx)(m,{name:"list"}),Object(i.jsx)(In,{children:Object(i.jsx)("p",{children:"Scope"})})]}),Object(i.jsxs)(Sn,{active:c.location.pathname.includes("/tasks"),onClick:function(){return c.push("".concat(a,"/tasks"))},children:[n>0&&Object(i.jsx)(wn,{children:Object(i.jsx)("p",{children:n})}),Object(i.jsx)(m,{name:"paste"}),Object(i.jsx)(In,{children:Object(i.jsx)("p",{children:"Tasks"})})]}),Object(i.jsxs)(Sn,{active:c.location.pathname.includes("/punch-list"),onClick:function(){return c.push("".concat(a,"/punch-list"))},children:[r>0&&Object(i.jsx)(wn,{children:Object(i.jsx)("p",{children:r})}),Object(i.jsx)(m,{name:"warning_filled"}),Object(i.jsx)(In,{children:Object(i.jsx)("p",{children:"Punches"})})]})]})};function yn(){var e=Object(o.a)(["\n    padding-left: 12px;\n    flex: 1;\n"]);return yn=function(){return e},e}function Rn(){var e=Object(o.a)(["\n    display: flex;\n    align-items: center;\n    padding: 10px 2%;\n    margin: 10px 4% 0 4%;\n    text-decoration: none;\n    justify-content: space-between;\n    & img {\n        max-height: 20px;\n        object-fit: contain;\n        flex: 0.1;\n    }\n    & > div {\n        margin-left: 24px;\n        flex: 3;\n        & p {\n            margin: 0;\n        }\n    }\n    & svg {\n        flex: 0.5;\n    }\n"]);return Rn=function(){return e},e}function Bn(){var e=Object(o.a)(["\n    padding-bottom: 70px;\n    & h3 {\n        text-align: center;\n        margin-top: 16px;\n    }\n"]);return Bn=function(){return e},e}var Pn=l.default.div(Bn()),Nn=Object(l.default)(B.b)(Rn()),Un=l.default.p(yn()),Tn=function(){var e=Object(s.useContext)(it).scope,t=Object(P.i)().url,n=e.map((function(e){return Object(i.jsxs)(Nn,{to:"".concat(t,"/").concat(e.id),children:[Object(i.jsx)(zt,{status:e.status}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:e.tagNo}),Object(i.jsx)("p",{children:e.tagDescription})]}),Object(i.jsx)(Un,{children:e.formularType}),Object(i.jsx)(m,{name:"chevron_right"})]},e.id)}));return e.length<1?Object(i.jsx)(Pn,{children:Object(i.jsx)("h3",{children:"The scope is empty"})}):Object(i.jsx)(Pn,{children:n})};function Ln(){var e=Object(o.a)(["\n    & > div {\n        flex: 2;\n    }\n"]);return Ln=function(){return e},e}var Dn=Object(l.default)(Nn)(Ln()),Jn=function(){var e=Object(s.useContext)(it).tasks,t=e.map((function(e){return Object(i.jsxs)(Dn,{to:"",children:[e.isSigned?Object(i.jsx)(zt,{status:Ve.OK}):Object(i.jsx)(zt,{status:Ve.OS}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:e.number}),Object(i.jsx)(d.Typography,{variant:"body_short",lines:3,children:e.title})]}),Object(i.jsx)(m,{name:"chevron_right"})]},e.id)}));return e.length<1?Object(i.jsx)(Pn,{children:Object(i.jsx)("h3",{children:"No tasks to display."})}):Object(i.jsx)(Pn,{children:t})};function Fn(){var e=Object(o.a)(["\n    display: flex;\n"]);return Fn=function(){return e},e}function Gn(){var e=Object(o.a)(["\n    margin-top: 4px;\n    &:first-child {\n        margin-right: 20px;\n    }\n"]);return Gn=function(){return e},e}var Qn=l.default.div(Gn()),Vn=l.default.div(Fn()),Kn=function(){var e=Object(s.useContext)(it).punchList,t=e.map((function(e){return Object(i.jsxs)(Nn,{to:"",children:[Object(i.jsx)(zt,{status:e.status}),Object(i.jsxs)("div",{children:[Object(i.jsx)(d.Typography,{variant:"body_short",lines:2,children:e.description}),Object(i.jsxs)(Vn,{children:[Object(i.jsxs)(Qn,{children:[Object(i.jsx)("label",{children:"Module: "}),Object(i.jsx)("p",{children:e.systemModule})]}),Object(i.jsxs)(Qn,{children:[Object(i.jsx)("label",{children:"Tag: "}),Object(i.jsx)(d.Typography,{variant:"body_short",lines:1,children:e.tagDescription})]})]})]}),Object(i.jsx)(m,{name:"chevron_right"})]},e.id)}));return e.length<1?Object(i.jsx)(Pn,{children:Object(i.jsx)("h3",{children:"No punches to display."})}):Object(i.jsx)(Pn,{children:t})};function Xn(){var e=Object(o.a)(["\n    /* padding-top: 12px; */\n"]);return Xn=function(){return e},e}var qn=l.default.main(Xn()),Mn=function(){var e=Object(s.useContext)(it),t=e.details,n=e.scope,r=e.punchList,c=e.tasks,a=Object(P.i)().path;return Object(i.jsxs)(qn,{children:[Object(i.jsx)(Ie,{noBorder:!0,leftContent:{name:"back",label:"Bookmarks"}}),Object(i.jsx)(xn,{details:{MCStatus:t.mcStatus,commStatus:t.commStatus,description:t.description,pkgNumber:t.commPkgNo}}),Object(i.jsxs)(P.d,{children:[Object(i.jsx)(P.a,{exact:!0,path:a,to:"".concat(a,"/scope")}),Object(i.jsx)(P.b,{exact:!0,path:"".concat(a,"/scope"),component:Tn}),Object(i.jsx)(P.b,{exact:!0,path:"".concat(a,"/tasks"),component:Jn}),Object(i.jsx)(P.b,{exact:!0,path:"".concat(a,"/punch-list"),component:Kn})]}),Object(i.jsx)(En,{numberOfChecklists:n.length,numberOfPunches:r.length,numberOfTasks:c.length})]})};function zn(){var e=Object(o.a)(["\n    background-color: white;\n    margin-top: 32px;\n    padding: 0 4%;\n    & > button,\n    button:disabled {\n        float: right;\n        margin-top: 16px;\n    }\n    & > div {\n        margin-top: 16px;\n    }\n"]);return zn=function(){return e},e}function Hn(){var e=Object(o.a)(["\n    padding: 0 4%;\n    margin-top: 48px;\n    height: calc(100vh - 54px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return Hn=function(){return e},e}function Zn(){var e=Object(o.a)(["\n    display: flex;\n    & button:first-of-type {\n        margin-right: 16px;\n    }\n"]);return Zn=function(){return e},e}var Wn=l.default.div(Zn()),Yn=l.default.div(Hn()),_n=l.default.form(zn()),$n=function(e){var t=e.categories,n=e.types,r=e.organizations,o=Object(s.useContext)(D).api,u=Object(P.h)(),l=u.plant,p=u.checklistId,b=u.commPkg,j=u.project,h=Object(P.i)().url,f=Object(P.g)(),O=Object(s.useState)(w.INACTIVE),g=Object(N.a)(O,2),x=g[0],A=g[1],v=Object(s.useState)(""),k=Object(N.a)(v,2),C=k[0],S=k[1],I=Object(s.useState)(""),E=Object(N.a)(I,2),y=E[0],R=E[1],B=Object(s.useState)(""),U=Object(N.a)(B,2),T=U[0],L=U[1],J=Object(s.useState)(""),F=Object(N.a)(J,2),G=F[0],Q=F[1],V=Object(s.useState)(""),K=Object(N.a)(V,2),X=K[0],q=K[1],M=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={CheckListId:parseInt(p),CategoryId:parseInt(C),Description:y,TypeId:parseInt(T),RaisedByOrganizationId:parseInt(G),ClearingByOrganizationId:parseInt(X)},A(w.LOADING),e.prev=3,e.next=6,o.postNewPunch(l,n);case 6:A(w.SUCCESS),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),A(w.ERROR);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return x===w.SUCCESS?Object(i.jsxs)(Yn,{children:[Object(i.jsx)(m,{name:"check",size:40}),Object(i.jsx)("h4",{children:"Successfully added new punch"}),Object(i.jsxs)(Wn,{children:[Object(i.jsx)(d.Button,{onClick:function(){return f.push(ve(h))},children:"Back to checklist"}),Object(i.jsx)(d.Button,{onClick:function(){return f.push("/".concat(l,"/").concat(j,"/").concat(b,"/punch-list"))},children:"Go to punch list"})]})]}):Object(i.jsxs)(_n,{onSubmit:M,children:[Object(i.jsxs)(d.NativeSelect,{required:!0,id:"PunchCategorySelect",label:"Punch category",disabled:x===w.LOADING,onChange:function(e){return S(e.target.value)},children:[Object(i.jsx)("option",{hidden:!0,disabled:!0,selected:!0}),t.map((function(e){return Object(i.jsx)("option",{value:e.id,children:"".concat(e.description)},e.id)}))]}),Object(i.jsxs)(d.NativeSelect,{required:!0,id:"PunchTypeSelect",label:"Type",disabled:x===w.LOADING,onChange:function(e){return L(e.target.value)},children:[Object(i.jsx)("option",{hidden:!0,disabled:!0,selected:!0}),n.map((function(e){return Object(i.jsx)("option",{value:e.id,children:"".concat(e.code,". ").concat(e.description)},e.id)}))]}),Object(i.jsx)(d.TextField,{required:!0,maxLength:255,value:y,onChange:function(e){return R(e.target.value)},label:"Description",multiline:!0,rows:5,id:"NewPunchDescription",disabled:x===w.LOADING}),Object(i.jsxs)(d.NativeSelect,{required:!0,label:"Raised by",id:"RaisedBySelect",disabled:x===w.LOADING,onChange:function(e){return Q(e.target.value)},children:[Object(i.jsx)("option",{hidden:!0,disabled:!0,selected:!0}),r.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.description},e.id)}))]}),Object(i.jsxs)(d.NativeSelect,{required:!0,id:"ClearingBySelect",label:"Clearing by",disabled:x===w.LOADING,onChange:function(e){return q(e.target.value)},children:[Object(i.jsx)("option",{hidden:!0,disabled:!0,selected:!0}),r.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.description},e.id)}))]}),Object(i.jsx)(d.Button,{type:"submit",disabled:x===w.LOADING,children:"Create punch"})]})},er=function(){var e=Object(s.useContext)(D).api,t=Object(s.useState)([]),n=Object(N.a)(t,2),r=n[0],o=n[1],u=Object(s.useState)([]),l=Object(N.a)(u,2),d=l[0],p=l[1],b=Object(s.useState)([]),j=Object(N.a)(b,2),h=j[0],f=j[1],O=Object(s.useState)(w.LOADING),g=Object(N.a)(O,2),x=g[0],A=g[1],m=Object(s.useState)(),v=Object(N.a)(m,2),k=v[0],S=v[1],I=Object(P.h)(),E=I.plant,y=I.checklistId;Object(s.useContext)(it).details;Object(s.useEffect)((function(){Object(a.a)(c.a.mark((function t(){var n,r,a,i,s,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([e.getPunchCategories(E),e.getPunchTypes(E),e.getPunchOrganizations(E),e.getChecklist(E,y)]);case 3:n=t.sent,r=Object(N.a)(n,4),a=r[0],i=r[1],s=r[2],u=r[3],o(a),p(i),f(s),S(u.checkList),A(w.SUCCESS),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),A(w.ERROR);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}),[E,y]);var R=null;return x===w.LOADING&&(R=Object(i.jsx)(oe,{text:"Loading new punch"})),x===w.ERROR&&(R=Object(i.jsx)(C,{title:"Could not load new punch"})),x===w.SUCCESS&&k&&(R=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(en,{details:k,descriptionLabel:"New punch for:"}),Object(i.jsx)($n,{categories:r,types:d,organizations:h})]})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie,{noBorder:!0,leftContent:{name:"back",label:"Checklist"}}),R]})},tr=function(){var e=Object(P.i)().path;return Object(i.jsx)(at,{children:Object(i.jsxs)(P.d,{children:[Object(i.jsx)(P.b,{exact:!0,path:"".concat(e,"/scope/:checklistId"),component:an}),Object(i.jsx)(P.b,{exact:!0,path:"".concat(e,"/scope/:checklistId/new-punch"),component:er}),Object(i.jsx)(P.b,{path:e,component:Mn})]})})};function nr(){var e=Object(o.a)(["\n    margin: 12px 4% 10px 4%;\n    display: flex;\n    justify-content: flex-end;\n"]);return nr=function(){return e},e}function rr(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    box-sizing: border-box;\n    padding-bottom: 70px;\n    & h3 {\n        text-align: center;\n    }\n"]);return rr=function(){return e},e}var cr=l.default.main(rr()),ar=l.default.div(nr()),ir=function(){var e=Object(P.i)().url,t=Object(P.g)(),n=Object(s.useContext)(_),r=n.currentProject,c=n.currentPlant,a=G(r.id.toString()),o=a.map((function(e){return Object(i.jsx)(xn,{details:{description:e.description,commStatus:e.commStatus,MCStatus:e.MCStatus,pkgNumber:e.pkgNumber},atBookmarksPage:!0},e.pkgNumber)})),u=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Re,{title:"Bookmarks",subtitle:null===c||void 0===c?void 0:c.title}),o]});return a.length<1&&(u=Object(i.jsx)(Re,{title:"No bookmarks to display"})),Object(i.jsxs)("main",{children:[Object(i.jsx)(Ie,{leftContent:{name:"hamburger"},rightContent:{name:"search"}}),Object(i.jsxs)(cr,{children:[u,Object(i.jsx)(ar,{children:Object(i.jsxs)(d.Button,{onClick:function(){return t.push("".concat(e,"/search"))},children:[Object(i.jsx)(m,{name:"search",color:"white"}),"Find comm. pkg"]})})]})]})},or=function(){return Object(i.jsx)(Y,{children:Object(i.jsxs)(P.d,{children:[Object(i.jsx)(P.b,{exact:!0,path:"/",component:Le}),Object(i.jsx)(P.b,{exact:!0,path:"/:plant",component:De}),Object(i.jsx)(P.b,{exact:!0,path:"/:plant/:project",component:ir}),Object(i.jsx)(P.b,{exact:!0,path:"/:plant/:project/search",component:rt}),Object(i.jsx)(P.b,{path:"/:plant/:project/:commPkg",component:tr})]})})},sr=n(22),ur=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).state={hasError:!1,message:"",name:""},r}return Object(sr.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState(Object(Je.a)(Object(Je.a)({},this.state),{},{message:e.message,name:e.name}))}},{key:"render",value:function(){return this.state.hasError?Object(i.jsx)(C,{title:this.state.name,description:this.state.message}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(u.a.Component),lr=function(e){var t=e.procosysApiInstance,n=e.authInstance;return Object(i.jsx)(L,{api:t,auth:n,children:Object(i.jsx)(B.a,{children:Object(i.jsx)(ur,{children:Object(i.jsxs)(P.d,{children:[Object(i.jsx)(P.b,{path:"/:plant?/:project?",component:or}),Object(i.jsx)(P.b,{render:function(){return Object(i.jsx)("h1",{children:"404"})}})]})})})})},dr=n(83),pr=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.a.get(dr.authSettingsEndpoint);case 2:return t=e.sent,n=t.data,r={auth:{clientId:n.clientId,authority:n.authority,redirectUri:window.location.href}},a=n.scopes,i=n.configurationScope,o=n.configurationEndpoint,e.abrupt("return",{clientSettings:r,scopes:a,configurationScope:i,configurationEndpoint:o});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),br=function(e){var t=e.MSAL,n=e.scopes,r=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o()||t.loginRedirect({scopes:n});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=t.getAllAccounts()[0];return e||null},s=function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAllAccounts()[0]){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,t.acquireTokenSilent({account:r,scopes:n});case 5:if(a=e.sent,!(i=a.accessToken)){e.next=11;break}return e.abrupt("return",Promise.resolve(i));case 11:return console.log("Token acquisition failed, redirecting"),t.acquireTokenRedirect({scopes:n}),e.abrupt("return","");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(a.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),null!=(r=t.getAllAccounts()[0])){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,t.acquireTokenSilent({account:r,scopes:["User.read"]});case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleRedirectPromise();case 2:if(null===e.sent){e.next=5;break}return e.abrupt("return",Promise.resolve(!1));case 5:return e.next=7,u();case 7:if(!e.sent){e.next=12;break}return e.abrupt("return",Promise.resolve(!1));case 12:return i(),e.abrupt("return",Promise.resolve(!0));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{login:i,logout:r,getCurrentUser:o,handleLogin:l,isLoggedIn:u,getAccessToken:s,getUserName:function(){var e;return null===(e=o())||void 0===e?void 0:e.username}}},jr=n(56),hr=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.a.get(t,{headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.configuration.procosysWebApi);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fr=function(e,t,n){var r=Qe.a.create();return r.defaults.baseURL=t,r.interceptors.request.use(function(){var t=Object(a.a)(c.a.mark((function t(r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAccessToken(n);case 3:return a=t.sent,r.headers.Authorization="Bearer ".concat(a),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),r},Or=function e(t){if((r=t)===Object(r)&&!Array.isArray(r)&&"function"!==typeof r){var n={};return Object.keys(t).forEach((function(r){n[function(e){return e[0].toLowerCase()+e.substr(1,e.length)}(r)]=e(t[r])})),n}return Array.isArray(t)?t.map((function(t){return e(t)})):t;var r},gr=function(e){var t=e.axios,n=function(){var e=Object(a.a)(c.a.mark((function e(){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Plants?includePlantsWithoutAccess=false&api-version=4.1");case 3:return n=e.sent,r=n.data,a=Or(r),i=a.map((function(e){return Object(Je.a)(Object(Je.a)({},e),{},{slug:e.id.substr(4)})})),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Projects?plantId=".concat(n,"&api-version=4.1"));case 3:return r=e.sent,a=r.data,e.abrupt("return",Or(a));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Permissions?plantId=".concat(n,"&api-version=4.1"));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a,i){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("CommPkg/Search?plantId=".concat(a,"&startsWithCommPkgNo=").concat(n,"&includeClosedProjects=false&projectId=").concat(r,"&api-version=4.1"),{cancelToken:i});case 3:return o=e.sent,s=o.data,e.abrupt("return",Or(s));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,c){return e.apply(this,arguments)}}(),s=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("CommPkg/ByCommPkgNos?plantId=".concat(n,"&commPkgNos=").concat(r,"&projectName=").concat(a,"&api-version=4.1\n"));case 3:return i=e.sent,o=i.data,e.abrupt("return",Or(o[0]));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function(){var e=Object(a.a)(c.a.mark((function e(n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("CommPkg/Checklists?plantId=".concat(n,"&commPkgId=").concat(r,"&api-version=4.1"));case 3:return a=e.sent,i=a.data,e.abrupt("return",Or(i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(c.a.mark((function e(n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("CommPkg/Tasks?plantId=".concat(n,"&commPkgId=").concat(r,"&api-version=4.1"));case 3:return a=e.sent,i=a.data,e.abrupt("return",Or(i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(c.a.mark((function e(n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("CommPkg/PunchList?plantId=".concat(n,"&commPkgId=").concat(r,"&api-version=4.1"));case 3:return a=e.sent,i=a.data,e.abrupt("return",Or(i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(c.a.mark((function e(n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Checklist/Comm?plantId=PCS$".concat(n,"&checklistId=").concat(r,"&api-version=4.1"));case 3:return a=e.sent,i=a.data,e.abrupt("return",Or(i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("CheckList/Item/SetOk?plantId=PCS$".concat(n,"&api-version=4.1"),{CheckListId:r,CheckItemId:a});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("CheckList/Item/SetNA?plantId=PCS$".concat(n,"&api-version=4.1"),{CheckListId:r,CheckItemId:a});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("CheckList/Item/Clear?plantId=PCS$".concat(n,"&api-version=4.1"),{CheckListId:r,CheckItemId:a});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a,i,o,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.put("CheckList/Item/MetaTableCell?plantId=PCS$".concat(n,"&api-version=4.1"),{CheckListId:a,CheckItemId:r,ColumnId:i,RowId:o,Value:s});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",Promise.reject(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r,c,a,i){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.put("CheckList/Comm/Comment?plantId=PCS$".concat(n,"&api-version=4.1"),{CheckListId:r,Comment:a});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0.response));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(c.a.mark((function e(n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("CheckList/Comm/Sign?plantId=PCS$".concat(n,"&api-version=4.1"),r,{headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",Promise.reject(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(c.a.mark((function e(n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("CheckList/Comm/Unsign?plantId=PCS$".concat(n,"&api-version=4.1"),r,{headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",Promise.reject(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("PunchListItem/Categories?plantId=PCS$".concat(n,"&api-version=4.1"));case 3:return r=e.sent,a=r.data,e.abrupt("return",Or(a));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("PunchListItem/Types?plantId=PCS$".concat(n,"&api-version=4.1"));case 3:return r=e.sent,a=r.data,e.abrupt("return",Or(a));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("PunchListItem/Organizations?plantId=PCS$".concat(n,"&api-version=4.1"));case 3:return r=e.sent,a=r.data,e.abrupt("return",Or(a));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return{getPlants:n,getProjectsForPlant:r,getPermissionsForPlant:i,getChecklist:p,getCommPackageDetails:s,postClear:h,postSetOk:b,postSetNA:j,postNewPunch:function(){var e=Object(a.a)(c.a.mark((function e(n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("PunchListItem?plantId=PCS$".concat(n,"&api-version=4.1"),r);case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),getPunchOrganizations:v,getPunchList:d,getPunchTypes:m,getPunchCategories:A,postSign:g,postUnsign:x,putChecklistComment:O,putMetaTableCell:f,getTasks:l,getScope:u,searchForCommPackage:o}},xr=function(e){R.a.render(Object(i.jsx)(u.a.StrictMode,{children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x,{}),e]})}),document.getElementById("root"))},Ar=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,r,a,i,o,s,u,l,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr();case 2:return t=e.sent,n=t.clientSettings,r=t.scopes,a=t.configurationScope,i=t.configurationEndpoint,o=new jr.a(n),s=br({MSAL:o,scopes:r}),e.next=11,s.handleLogin();case 11:if(!e.sent){e.next=14;break}return e.abrupt("return",Promise.reject("redirecting"));case 14:return e.next=16,s.getAccessToken(a);case 16:return u=e.sent,e.next=19,hr(i,u);case 19:return l=e.sent,d=fr(s,l.baseUrl,l.scope),p=gr({axios:d}),e.abrupt("return",{authInstance:s,procosysApiInstance:p});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr(Object(i.jsx)(E,{loadingText:"Initializing..."})),e.prev=1,e.next=4,Ar();case 4:t=e.sent,n=t.authInstance,r=t.procosysApiInstance,xr(Object(i.jsx)(lr,{authInstance:n,procosysApiInstance:r})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("ERRORERROR",e.t0),"redirecting"===e.t0?xr(Object(i.jsx)(E,{loadingText:"Redirecting to login..."})):xr(Object(i.jsx)(C,{title:"Unable to initialize app",description:"Check your connection or reload this page and try again. If problem persists, contact customer support"}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},[[84,1,2]]]);
//# sourceMappingURL=main.551ef65a.chunk.js.map